---
import { getCollection } from 'astro:content';

// 获取所有文章并在构建时输出
const articles = await getCollection('articles');
console.log('总共收集到的文章数量:', articles.length);
console.log('文章列表:');
articles.forEach(article => {
  console.log('-', article.slug, ':', article.data.title);
  if (article.slug === '2025-08-02-market-strategy') {
    console.log('✓ 找到目标文章!');
  }
});
---

<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>文章集合测试</title>
</head>
<body>
  <h1>文章集合测试结果</h1>
  <p>请查看终端输出以了解测试结果。</p>
  <ul>
    {articles.map(article => (
      <li>
        <a href={`/articles/${article.slug}`}>{article.data.title}</a>
      </li>
    ))}
  </ul>
</body>
</html>