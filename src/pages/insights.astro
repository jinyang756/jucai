---
    import BaseLayout from '../layouts/BaseLayout.astro';
    import PodcastCard from '../components/PodcastCard.astro'; // 引入播客卡片组件
    import { getCollection } from 'astro:content'; // 确保这一行正确导入

    const podcasts = await getCollection('podcasts'); // 获取所有播客内容
    const articles = await getCollection('articles'); // 获取所有文章内容

    // 合并并按日期排序所有内容 (播客和文章)
    const allInsights = [...podcasts, ...articles].sort((a, b) => {
      return new Date(b.data.pubDate).getTime() - new Date(a.data.pubDate).getTime();
    });
    ---
    <BaseLayout title="洞察与研究">
        <!-- 页面标题区 -->
        <section class="bg-blue-700 text-white py-16 md:py-20 text-center rounded-b-lg shadow-md">
            <div class="container mx-auto px-4">
                <h1 class="text-4xl md:text-5xl font-extrabold mb-3">洞察与研究</h1>
                <p class="text-lg md:text-xl opacity-90">"在不确定性中寻找确定性"—— 通过数据跟踪、逻辑验证、风险预案，将 "模糊的机会" 转化为 "可执行的决策"。</p>
            </div>
        </section>

        <!-- 内容列表 -->
        <main class="container mx-auto px-4 py-12 md:py-20">
            <h2 class="text-3xl md:text-4xl font-bold text-center text-gray-900 mb-10">所有洞察</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {allInsights.map((item) => (
                    <PodcastCard
                        title={item.data.title}
                        description={item.data.description}
                        pubDate={item.data.pubDate}
                        category={item.data.category}
                        image={item.data.image}
                        slug={item.collection === 'podcasts' ? `/podcasts/${item.slug}` : `/articles/${item.slug}`}
                        type={item.collection === 'podcasts' ? '播客' : '文章'}
                    />
                ))}
            </div>
        </main>
    </BaseLayout>
    